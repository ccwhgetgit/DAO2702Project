
import datetime
import matplotlib.pyplot as plt
from matplotlib import cm
import numpy as np
import pandas as pd
import seaborn as sns

from nltk.sentiment import SentimentIntensityAnalyzer
from random import shuffle


# Import data
data = pd.read_csv('UpdatedCombinedMeme.csv')
data = data[7:]
#normalisation 
def normalize_data(df):
    minimum = min(df)
    maximum = max(df)
    x = df
    y = (x - minimum) / (maximum  - minimum)
    return y

data


# In[73]:


plt.figure(figsize = (30,20))
plt.plot(data['Date'], normalize_data(data['Clov Price']), label = 'Clov Price')
plt.plot(data['Date'], normalize_data(data['BB Price']), label = 'BB Price')
plt.plot(data['Date'], normalize_data(data['AMC Price']), label = 'AMC Price')
plt.plot(data['Date'], normalize_data(data['GME Price']), label = 'GME Price')
plt.bar(data['Date'], normalize_data(data['count_body']),label = 'Number of Threads', width= 0.6, color = 'k', alpha = 0.2)


plt.xticks(fontsize=10, rotation = 90)

plt.yticks(fontsize=20, rotation = 90)
plt.xlabel("Dates", fontsize = 22)

plt.ylabel("Normalized Parameters", fontsize = 22)
plt.legend(fontsize = 22)
plt.title("Number of Threads v Prices of Meme Stocks", fontsize = 30)
plt.plot()


# In[74]:


plt.figure(figsize = (30,20))
plt.plot(data['Date'], normalize_data(data['Clov Price']), label = 'Clov Price')
plt.plot(data['Date'], normalize_data(data['BB Price']), label = 'BB Price')
plt.plot(data['Date'], normalize_data(data['AMC Price']), label = 'AMC Price')
plt.plot(data['Date'], normalize_data(data['GME Price']), label = 'GME Price')
plt.bar(data['Date'], normalize_data(data['average_body']),label = 'Avg Sentiments of Threads', width= 0.6, color = 'k', alpha = 0.2)


plt.xticks(fontsize=10, rotation = 90)

plt.yticks(fontsize=20, rotation = 90)
plt.xlabel("Dates", fontsize = 22)

plt.ylabel("Normalized Parameters", fontsize = 22)
plt.legend(fontsize = 22)
plt.title("Avg Sentiments v Prices of Meme Stocks", fontsize = 30)
plt.plot()


# In[75]:


data[['average_body','BB Price', 'Clov Price', 'AMC Price', 'GME Price']].corr()['average_body'][1:]
